<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8" />
    <title>title</title>
</head>
<body>
    <h1>HELLO</h1>
    <button onclick="startCamera()">Start Rear Camera</button>
    <video id="preview" playsinline autoplay></video>
    <div id="error" style="color: red;"></div>

    <script>
        async function startCamera() {
            const video = document.getElementById('preview');
            const errorDiv = document.getElementById('error');
            
            try {
                // iOS requires secure context (HTTPS or localhost)
                if (!navigator.mediaDevices || !navigator.mediaDevices.getUserMedia) {
                    throw new Error('Camera API not supported');
                }

                // Get environment-facing (rear) camera
                const stream = await navigator.mediaDevices.getUserMedia({
                    video: {
                        facingMode: 'environment',
                        width: { ideal: 1280 },
                        height: { ideal: 720 }
                    }
                });

                video.srcObject = stream;
                video.play();
                errorDiv.textContent = '';
            } catch (err) {
                errorDiv.textContent = `Error: ${err.message}`;
                console.error('Camera error:', err);
            }
        }
    </script>

</body>
</html>